{% load static %}
<html>
<head>
<title>Udaaan Portal</title>
<link rel='stylesheet' href='{% static "css/bootstrap.min.css" %}'>
<script src='{% static "js/jquery.min.js" %}'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script> 
<script src='{% static "js/bootstrap.min.js" %}'></script>
<link rel='stylesheet' href="{% static 'css/style.css' %}"> 
<script src="{% static 'js/BsMultiSelect.min.js' %}"></script>
</head>
<body>
  <div class="container-fluid">
    <div class="row no-gutters">
      <div class="col-12">
        <h1>Udaaan Portal </h1>
    {% if request.user.is_authenticated %}
      <b>Hey <p id='user'>{{ request.user }}</p></b>
      <a href="{% url 'membercreate' %}" class="btn btn-primary">Create profile</a>
      <form method='POST' action='{% url "logout" %}'>{% csrf_token %}
        <button type="submit" class="btn btn-dark">Log out</button>
      </form>
    {% else %}
      <a href="{% url 'login' %}" class="btn btn-success">Login</a>
    {% endif %}
      </div>
    </div>
  {% block content %}
  {% endblock content %}
  </div>
  <script type="text/javascript">
    $(document).ready(function() {
        $('#id_preferred_days').bsMultiSelect({ 
          // nonSelectedText: 'Pick your days..',
        });
    });
</script>
  <script>
    $("#id_course").change(function () {
      $.ajax({                       // initialize an AJAX request
        url: '../doesnotmatter',       // set the url of the request (= localhost:8000/doesnotmatter/)
        data: {
          'course': $(this).val()       // add the course id to the GET parameters
        },
        success: function (data) {   // `data` is the return of the `load_branches` view function
          $("#id_branch").html(data);  // replace the contents of the branch input with the data that came from the server
        },
        error: function(err){
          console.log('AJAX request failed..');
        }
      });
    });
  </script>
  <script>
    $("#id_state").change(function () {
      // get the selected state ID from the HTML input
      $.ajax({                       // initialize an AJAX request
        url: '../doesnotmatter2',       // set the url of the request (= localhost:8000/doesnotmatter2/)
        data: {
          'state': $(this).val()       // add the state id to the GET parameters
        },
        success: function (data) {   // `data` is the return of the `load_state` view function
          console.log('AJAX call successful..');
          $("#id_city").html(data);  // replace the contents of the branch input with the data that came from the server
        },
        error: function(err){
          console.log('AJAX request failed..');
        }
      });
   });
  </script>
  <script>
    $(document).ready(function() {
      var username = document.getElementById('user').innerHTML;
      $('#id_username').val(username);
      $('#id_username').prop('readonly', true);
      $('#id_working_days').prop('readonly', true);
    });
  </script>
  <script>
    $(document).ready(function() {
      const url = $(location).attr('pathname');
      console.log('url = ',url);
      if( url.includes('/memberupdate') ){
        $('#posup').html('Update Profile');
        $('#posup').removeClass('btn-success');
        $('#posup').addClass('btn-primary');
        // get the selected state ID from the HTML input
        $.ajax({                       // initialize an AJAX request
          url: '../doesnotmatter2',       // set the url of the request (= localhost:8000/doesnotmatter2/)
          data: {
            'state': $("#id_state").val()       // add the state id to the GET parameters
          },
          success: function (data) {   // `data` is the return of the `load_state` view function
            console.log('AJAX call successful..');
            $("#id_city").html(data);  // replace the contents of the branch input with the data that came from the server
          },
          error: function(err){
            console.log('AJAX request failed..');
          }
        });
        // get the selected course ID from the HTML input
        $.ajax({                       // initialize an AJAX request
          url: '../doesnotmatter',       // set the url of the request (= localhost:8000/doesnotmatter/)
          data: {
            'course': $('#id_course').val()       // add the course id to the GET parameters
          },
          success: function (data) {   // `data` is the return of the `load_branches` view function
            $("#id_branch").html(data);  // replace the contents of the branch input with the data that came from the server
          },
          error: function(err){
            console.log('AJAX request failed..');
          }
        });
      }
    });
  </script>
<style>
.form-row{
  margin-bottom: 15px;
}
lable{
  color: grey;
  font-size: 14px;
  font-weight: bold;
}
 /* input{
  padding:0px;
  margin:0px;
  width:200px !important;
  border:none; 
  border-bottom: 1px solid grey;
}  */
/* .dashboardcode-bsmultiselect{
  height:30px !important;
  padding:0px; 
  margin:0px;
}
.dashboardcode-bsmultiselect ul{
  padding:0px !important;
  margin:0px !important;
  height: 30px !important;
} */
/* input:active{
  /* border:none; 
  border-bottom: 2px solid blue;
} */
input:focus{
  outline: none !important;
  border-bottom: 1px solid black;
}
.profile-pic{
  width:300px !important;
  height: 300px !important;
}
</style>

</body>
</html>
